webpackJsonp([1],{1:function(t,e,s){t.exports=s("cDNt")},"8Sw2":function(t,e,s){function a(t){return s(n(t))}function n(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bm":"mH+W","./bm.js":"mH+W","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es-us":"RJPF","./es-us.js":"RJPF","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./gu":"yUwm","./gu.js":"yUwm","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};a.keys=function(){return Object.keys(o)},a.resolve=n,t.exports=a,a.id="8Sw2"},W675:function(t,e,s){e=t.exports=s("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"aR8+":function(t,e,s){"use strict";var a=s("fc+i"),n=s("/oeL"),o=s("bm2B"),r=s("wQAS"),i=s("jJff");s.d(e,"a",function(){return c});var l=this&&this.__decorate||function(t,e,s,a){var n,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,a);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(r=(o<3?n(r):o>3?n(e,s,r):n(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r},c=function(){function t(){}return t}();c=l([s.i(n.b)({declarations:[r.a],imports:[a.a,i.MyDatePickerModule,o.a,o.b],providers:[],bootstrap:[r.a]})],c)},cDNt:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("/oeL"),n=s("Qa4U"),o=s("aR8+");s("p5Ee").a.production&&s.i(a.a)(),s.i(n.a)().bootstrapModule(o.a)},efyd:function(t,e){t.exports='<div class="header">\n  <div class="header-content">\n    <img class="bitpay-logo" src="assets/img/bitpay-logo-negative.svg" alt="Bitpay">\n    <div class="header-center">\n      <h3 class="header-title">Statistics</h3>\n      <div class="repository-link">\n        <a href="https://github.com/bitpay/copay" target="blank">\n          <img src="assets/img/github.png" alt="Github">\n        </a>\n      </div>\n    </div>\n    <img class="copay-logo" src="assets/img/copay-logo-negative.svg" alt="Copay">\n  </div>\n</div>\n<div class="sub-header">\n  <div>\n    <form class="form-inline" (ngSubmit)="onSubmitNgModel()">\n      <label class="mr-sm-2">From:</label>\n      <my-date-picker name="dateFrom" [options]="datePickerOptions" [selector]="selector" [(ngModel)]="dateFrom" required></my-date-picker>\n      <label class="mr-sm-2">To:</label>\n      <my-date-picker name="dateTo" [options]="datePickerOptions" [selector]="selector" [(ngModel)]="dateTo" required></my-date-picker>\n      <button type="submit" class="btn btn-outline-primary dates-search">Search</button>\n    </form>\n  </div>\n  <div>\n    <select class="large-2 left" name="list" (change)="getStatsFromCoin($event.target.value)">\n      <option value="btc" selected>Bitcoin - BTC</option>\n      <option value="bch">Bitcoin Cash - BCH</option>\n    </select>\n  </div>\n</div>\n<div class="container">\n  <div class="container-fluid">\n    <div class="row panels">\n      <div class="col card">\n        <span class="total-label">Wallets</span>\n        <span class="value">{{totals.totalWallets}}</span>\n      </div>\n      <div class="col card">\n        <span class="total-label">Proposal</span>\n        <span class="value">{{totals.totalTxps}}</span>\n      </div>\n      <div class="col card">\n        <span class="total-label">Amount ({{coin}})</span>\n        <span class="value">{{totals.totalAmount}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="panels">\n  <div class="card">\n    <div class="selector-container">\n      <select class="large-2 left" name="list" (change)="walletsInterval($event.target.value)">\n        <option value="perDay" selected>Per day</option>\n        <option value="perWeek">Per week</option>\n        <option value="perMonth">Per month</option>\n      </select>\n    </div>\n    <h3 id="wallets" class="graphs-label">New Wallets</h3>\n    <div id="chart-wallets" class="chart panel"></div>\n  </div>\n</div>\n<div class="panels">\n  <div class="card">\n    <div class="selector-container">\n      <select class="large-2 left" name="list" (change)="proposalsInterval($event.target.value)">\n        <option value="perDay" selected>Per day</option>\n        <option value="perWeek">Per week</option>\n        <option value="perMonth">Per month</option>\n      </select>\n    </div>\n    <h3 id="proposals" class="graphs-label">Proposals</h3>\n    <div id="chart-txps" class="chart panel"></div>\n  </div>\n</div>\n<div class="panels">\n  <div class="card">\n    <div class="selector-container">\n      <select class="large-2 left" name="list" (change)="amountInterval($event.target.value)">\n        <option value="perDay" selected>Per day</option>\n        <option value="perWeek">Per week</option>\n        <option value="perMonth">Per month</option>\n      </select>\n    </div>\n    <h3 id="amount" class="graphs-label">Amount ({{coin}})</h3>\n    <div id="chart-amount" class="chart panel"></div>\n  </div>\n</div>\n'},n7du:function(t,e){function s(t){throw new Error("Cannot find module '"+t+"'.")}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id="n7du"},p5Ee:function(t,e,s){"use strict";s.d(e,"a",function(){return a});var a={production:!1}},umkt:function(t,e,s){"use strict";var a=s("/oeL"),n=s("xrDH"),o=(s.n(n),s("XiwL")),r=(s.n(o),s("IC1y"));s.n(r);s.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,s,a){var n,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,a);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(r=(o<3?n(r):o>3?n(e,s,r):n(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.fetch=function(t,e){var s=this,a=t.url+"/v1/stats/?network="+t.network+"&coin="+t.coin+"&from="+t.from+"&to="+t.to;o.json(a).get(function(t,a){if(t)return e(t);if(!a||n.isEmpty(a))return e("No data");var o=s.transform(a);return console.log("### INFO: ",o),e(null,o)})},t.prototype.transform=function(t){var e=this,s=o.time.format("%Y%m%d").parse,a={};return n.each(t.newWallets.byDay,function(t){a[t.day]||(a[t.day]={}),a[t.day].walletCount=t.count}),n.each(t.txProposals.amountByDay,function(t){a[t.day]||(a[t.day]={}),a[t.day].txAmount=t.amount/1e8}),n.each(t.txProposals.nbByDay,function(t){a[t.day]||(a[t.day]={}),a[t.day].txCount=t.count}),n.map(a,function(t,a){var n=new Date(s(a));return{date:s(a),amount:t.txAmount,txps:t.txCount,wallets:t.walletCount,week:n.getFullYear()+"-"+e.getWeek(n),month:n.getFullYear()+"-"+n.getMonth()}})},t.prototype.getWeek=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+e.getDay()+1)/7)},t.prototype.getTotals=function(t){var e=n.reduce(t,function(t,e){return t.wallets+=e.wallets||0,t.txps+=e.txps||0,t.amount+=e.amount||0,t},{wallets:0,txps:0,amount:0});return{totalWallets:e.wallets,totalTxps:e.txps,totalAmount:e.amount.toFixed(2)}},t.prototype.getCoords=function(t,e){var s={};"wallets"===e?(s.yValue="wallets",s.key="# of New wallets"):"proposals"===e?(s.yValue="txps",s.key="# of Proposals"):"amount"===e&&(s.yValue="amount",s.key="Amount sent");var a=n.groupBy(t,"month"),o=n.map(a,function(t,e){return{x:t[0].date,y:n.sumBy(t,s.yValue)}}),r=n.groupBy(t,"week"),i=n.map(r,function(t,e){return{x:t[0].date,y:n.sumBy(t,s.yValue)}}),l=[{key:s.key+" per month",values:o}],c=[{key:s.key+" per week",values:i}],p=n.map(t,function(t){return n.pick(t,["date",s.yValue])});return{perMonth:l,perWeek:c,perDay:[{key:s.key+" per day",values:n.map(p,function(t){return{x:t.date,y:t[s.yValue]}})}]}},t.prototype.show=function(t,e){var s=this.getCoords(t,e.graph);console.log(s),r.addGraph(function(){var t={};"perDay"===e.interval?(t.coords=s.perDay,t.format="%b %d",t.label=s.perDay[0].key):"perMonth"===e.interval?(t.coords=s.perMonth,t.format="%b",t.label=s.perMonth[0].key):"perWeek"===e.interval&&(t.coords=s.perWeek,t.format="%W",t.label=s.perWeek[0].key);var a=r.models.lineChart().useInteractiveGuideline(!0);return a.xAxis.tickFormat(function(e){return o.time.format(t.format)(new Date(e))}),a.yAxis.axisLabel(t.label).tickFormat(o.format(",f")),o.select(e.chart+" svg").remove(),o.select(e.chart).append("svg").datum(t.coords).transition().duration(500).call(a),r.utils.windowResize(a.update),a})},t.prototype.initGraphs=function(t){this.show(t,{graph:"wallets",interval:"perDay",chart:"#chart-wallets"}),this.show(t,{graph:"proposals",interval:"perDay",chart:"#chart-txps"}),this.show(t,{graph:"amount",interval:"perDay",chart:"#chart-amount"})},t}();c=i([s.i(a.l)(),l("design:paramtypes",[])],c)},wQAS:function(t,e,s){"use strict";var a=s("/oeL"),n=s("bm2B"),o=s("umkt"),r=s("ge1L");s.n(r);s.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,s,a){var n,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,a);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(r=(o<3?n(r):o>3?n(e,s,r):n(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.dataService=t,this.formBuilder=e,this.dateFrom={},this.dateTo={},this.datePickerOptions={dateFormat:"yyyy-mm-dd"};var s=r().format("YYYY-MM-DD");this.coin="BTC",this.dateFrom.formatted="2015-01-01",this.dateTo.formatted=s,this.selector=0,this.dataSet=[],this.config={},this.opts={},this.opts.network="livenet",this.opts.url="https://bws.bitpay.com/bws/api",this.opts.from="2015-01-01",this.opts.to=s,this.totals={}}return t.prototype.ngOnInit=function(){this.fetch()},t.prototype.fetch=function(t){var e=this;this.opts.coin=t||"btc",this.dataService.fetch(this.opts,function(t,s){if(t)return void console.log("Error: "+t);e.dataSet=s,e.totals=e.dataService.getTotals(s),e.dataService.initGraphs(s)})},t.prototype.onSubmitNgModel=function(){this.opts.from=this.dateFrom.formatted,this.opts.to=this.dateTo.formatted,this.fetch()},t.prototype.getStatsFromCoin=function(t){this.coin=t.toUpperCase(),this.opts.from=this.dateFrom.formatted,this.opts.to=this.dateTo.formatted,this.fetch(t)},t.prototype.walletsInterval=function(t){this.config.graph="wallets",this.config.interval=t,this.config.chart="#chart-wallets",this.dataService.show(this.dataSet,this.config)},t.prototype.proposalsInterval=function(t){this.config.graph="proposals",this.config.interval=t,this.config.chart="#chart-txps",this.dataService.show(this.dataSet,this.config)},t.prototype.amountInterval=function(t){this.config.graph="amount",this.config.interval=t,this.config.chart="#chart-amount",this.dataService.show(this.dataSet,this.config)},t}();c=i([s.i(a._5)({selector:"app-root",template:s("efyd"),styles:[s("W675")],providers:[o.a]}),l("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(d=void 0!==n.d&&n.d)&&d||Object])],c);var p,d}},[1]);